<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>ChromeOS on Zhiim&#39;s Blog</title>
        <link>https://zhiim.github.io/tags/chromeos/</link>
        <description>Recent content in ChromeOS on Zhiim&#39;s Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Sun, 05 Feb 2023 11:02:40 +0800</lastBuildDate><atom:link href="https://zhiim.github.io/tags/chromeos/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Windows下制作ChromeOS Live USB</title>
        <link>https://zhiim.github.io/p/windows-install-chromeos/</link>
        <pubDate>Sun, 05 Feb 2023 11:02:40 +0800</pubDate>
        
        <guid>https://zhiim.github.io/p/windows-install-chromeos/</guid>
        <description>&lt;p&gt;ChromeOS是Google推出的桌面操作系统，主打基于云应用的轻量操作系统，如今的ChromeOS已经支持Linux模式和直接运行Android应用。由于Google没有开放系统给Chromebook以外的设备，一般电脑安装ChromeOS可以借助开源项目&lt;a class=&#34;link&#34; href=&#34;https://github.com/sebanc/brunch&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;brunch&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;brunch能够利用ChromeOS的recovery文件，生成可用的系统镜像文件，从而在非Chromebook上安装原生ChromeOS。&lt;/p&gt;
&lt;h2 id=&#34;硬件要求&#34;&gt;硬件要求
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;x86_64架构，UEFI启动模式&lt;/li&gt;
&lt;li&gt;Intel CPU至少第四代，或者AMD Ryzen&lt;/li&gt;
&lt;li&gt;不支持独显，不支持虚拟机，不支持Arm&lt;/li&gt;
&lt;li&gt;可以安装Linux子系统（WSL2）的Windows或者Linux系统&lt;/li&gt;
&lt;li&gt;空闲空间至少有16G&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;安装chromeos到u盘&#34;&gt;安装ChromeOS到U盘
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;下载ChromeOS recovery文件。&lt;/p&gt;
&lt;p&gt;参考自己的CPU型号，选择一个和自己电脑配置接近的chrome设备，在&lt;a class=&#34;link&#34; href=&#34;https://chromiumdash.appspot.com/serving-builds?deviceCategory=Chrome%20OS&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Chromium Dash&lt;/a&gt;下载该设备的recovery文件，一般选择最新的发行版本即可。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://zhiim.github.io/p/windows-install-chromeos/recovery.webp&#34;
	width=&#34;1311&#34;
	height=&#34;292&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;ChromeOS recovery&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;448&#34;
		data-flex-basis=&#34;1077px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;我选择的是Lenovo Yoga C630 Chromebook，codename为pantheon，下载发行版本为109的recovery文件。&lt;/p&gt;
&lt;p&gt;如果不知道应该下载哪个recovery，brunch的项目文档里也给了&lt;a class=&#34;link&#34; href=&#34;https://github.com/sebanc/brunch/blob/main/install-with-windows.md#recoveries&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;推荐的recovery&lt;/a&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intel
&lt;ul&gt;
&lt;li&gt;1代-9代：选择codename为rammus的设备对应的recovery&lt;/li&gt;
&lt;li&gt;10代和11代：选择codename为volteer的设备对应的recovery&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;AMD Ryzen：选择codename为zork的设备对应的recovery&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下载brunch的release文件&lt;/p&gt;
&lt;p&gt;在brunch的&lt;a class=&#34;link&#34; href=&#34;https://github.com/sebanc/brunch/releases&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;release&lt;/a&gt;页面下载和recovery版本号对应的文件，例如下载的recovery为109，则下载Brunch r109。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://zhiim.github.io/p/windows-install-chromeos/release.webp&#34;
	width=&#34;1138&#34;
	height=&#34;558&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;brunch release&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;203&#34;
		data-flex-basis=&#34;489px&#34;
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;制作ChromeOS镜像文件&lt;/p&gt;
&lt;p&gt;将下载好的Brunch和ChromeOS recovery放在一个文件夹，分别解压。&lt;/p&gt;
&lt;p&gt;打开WSL终端，安装必要软件。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt update &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt -y install pv cgpt tar unzip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在终端中运行命令，制作ChromeOS镜像。把&lt;code&gt;chromeos_filename.bin&lt;/code&gt;用从recovery中解压得到的文件名替代，脚本运行完成后回到的名为&lt;code&gt;chromeos.img&lt;/code&gt;的系统镜像。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo bash chromeos-install.sh -src chromeos_filename.bin -dst chromeos.img
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;命令运行完成后直接键入ENTER结束。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将镜像文件写入U盘&lt;/p&gt;
&lt;p&gt;下载&lt;a class=&#34;link&#34; href=&#34;https://rufus.ie/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Rufus&lt;/a&gt;，选中要使用的U盘和镜像文件，将镜像写入U盘。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;进入ChromeOS&lt;/p&gt;
&lt;p&gt;重启电脑，进入BIOS设置界面，关闭secure boot，设置优先从USB启动。&lt;/p&gt;
&lt;p&gt;保存并退出BIOS设置，电脑会自动重启并从U盘启动系统，第一次进入系统时需要等待较长时间。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://zhiim.github.io/p/windows-install-chromeos/chromeos.webp&#34;
	width=&#34;1920&#34;
	height=&#34;1080&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;ChromeOS&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;177&#34;
		data-flex-basis=&#34;426px&#34;
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;安装chromeos和windows双系统&#34;&gt;安装ChromeOS和Windows双系统
&lt;/h2&gt;&lt;p&gt;获取文件以及解压同“安装ChromeOS到Windows”中的步骤1、2、3。&lt;/p&gt;
&lt;p&gt;安装ChromeOS双系统同样通过在WSL终端中运行脚本完成，首先新建一个文件夹用于安装系统如&lt;code&gt;/mnt/d/brunch&lt;/code&gt;，表示在d盘新建文件夹brunch，然后输入命令。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo bash chromeos-install.sh -src chromeos_filename.bin -dst /mnt/d/brunch/chromeos.img -s size
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;把命令中的&lt;code&gt;chromeos_filename.bin&lt;/code&gt;用从recovery中解压得到的文件名替代，size用一个数字替代，定义了分配给ChromeOS磁盘空间，不小于14并且为4的倍数（单位GB）。&lt;/p&gt;
&lt;p&gt;等待脚本执行完成后输入&lt;code&gt;dualboot&lt;/code&gt;然后键入ENTER。&lt;/p&gt;
&lt;p&gt;下一步可以安装&lt;a class=&#34;link&#34; href=&#34;https://sourceforge.net/projects/grub2win/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Grub2Win&lt;/a&gt;，实现在开机时选择想要进入的系统。本人未作尝试，具体步骤可以参考&lt;a class=&#34;link&#34; href=&#34;https://github.com/sebanc/brunch/blob/main/install-with-windows.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;brunch的官方安装教程&lt;/a&gt;。&lt;br&gt;
安装Grub2Win后，依次点击&lt;code&gt;Manage Boot Menu-Add A New Entry-Type&lt;/code&gt;，选择“Create user section”。此时为自动用记事本新建一个文本文件，在之前设置的&lt;code&gt;/mnt/d/brunch&lt;/code&gt;文件夹中打开“chromeos.grub.txt”，将该文件中的内容复制到新建的空文本中。保存Grub2Win的更改，重启电脑，选择ChromeOS进入系统。&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
